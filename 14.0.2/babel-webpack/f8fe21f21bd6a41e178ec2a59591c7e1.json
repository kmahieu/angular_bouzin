{"ast":null,"code":"import _asyncToGenerator from \"/root/bouzin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/offer.service\";\n\nfunction ModalOfferComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelement(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3)(3, \"header\", 4)(4, \"p\", 5);\n    i0.ɵɵtext(5, \"Modal title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"button\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"section\", 7);\n    i0.ɵɵelement(8, \"app-offer-detail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"footer\", 8)(10, \"button\", 9);\n    i0.ɵɵtext(11, \"Save changes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 10);\n    i0.ɵɵtext(13, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"is-active\": a0\n  };\n};\n\nexport class ModalOfferComponent {\n  constructor(offerService) {\n    this.offerService = offerService;\n    this.offer = {};\n\n    if (this.offer.id != undefined) {\n      this.loadOffer(this.offer.id);\n    }\n  }\n\n  ngOnInit() {}\n\n  setModal() {\n    this.offerService.modalOpen(this.offer);\n  }\n\n  loadOffer(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let getOffer = yield firstValueFrom(_this.offerService.getObservableOffer(id));\n\n      if (getOffer != undefined) {\n        _this.offer = getOffer;\n      }\n    })();\n  }\n\n}\n\nModalOfferComponent.ɵfac = function ModalOfferComponent_Factory(t) {\n  return new (t || ModalOfferComponent)(i0.ɵɵdirectiveInject(i1.OfferService));\n};\n\nModalOfferComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModalOfferComponent,\n  selectors: [[\"app-modal-offer\"]],\n  inputs: {\n    offer: [\"data\", \"offer\"]\n  },\n  decls: 1,\n  vars: 3,\n  consts: [[\"class\", \"modal\", 4, \"ngClass\"], [1, \"modal\"], [1, \"modal-background\"], [1, \"modal-card\"], [1, \"modal-card-head\"], [1, \"modal-card-title\"], [\"aria-label\", \"close\", 1, \"delete\"], [1, \"modal-card-body\"], [1, \"modal-card-foot\"], [1, \"button\", \"is-success\"], [1, \"button\"]],\n  template: function ModalOfferComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ModalOfferComponent_div_0_Template, 14, 0, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c0, ctx.offer.isOpen == true));\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb2RhbC1vZmZlci5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,cAAT,QAA+B,MAA/B;;;;;;ICDAC;IACEA;IACAA,+BAAwB,CAAxB,EAAwB,QAAxB,EAAwB,CAAxB,EAAwB,CAAxB,EAAwB,GAAxB,EAAwB,CAAxB;IAEgCA;IAAWA;IACvCA;IACFA;IACAA;IACEA;IACFA;IACAA,kCAAgC,EAAhC,EAAgC,QAAhC,EAAgC,CAAhC;IACoCA;IAAYA;IAC9CA;IAAuBA;IAAMA;;;;;;;;;;ADFnC,OAAM,MAAOC,mBAAP,CAA0B;EAI9BC,YACUC,YADV,EACoC;IAA1B;IAHK,aAAe,EAAf;;IAKb,IAAG,KAAKC,KAAL,CAAWC,EAAX,IAAiBC,SAApB,EAA8B;MAC5B,KAAKC,SAAL,CAAe,KAAKH,KAAL,CAAWC,EAA1B;IACD;EAEF;;EAEDG,QAAQ,IACP;;EACDC,QAAQ;IACN,KAAKN,YAAL,CAAkBO,SAAlB,CAA4B,KAAKN,KAAjC;EACD;;EAEKG,SAAS,CAACF,EAAD,EAAW;IAAA;;IAAA;MACxB,IAAIM,QAAQ,SAASZ,cAAc,CAAC,KAAI,CAACI,YAAL,CAAkBS,kBAAlB,CAAqCP,EAArC,CAAD,CAAnC;;MAEA,IAAGM,QAAQ,IAAIL,SAAf,EAAyB;QACvB,KAAI,CAACF,KAAL,GAAaO,QAAb;MAED;IANuB;EAOzB;;AA1B6B;;;mBAAnBV,qBAAmBD;AAAA;;;QAAnBC;EAAmBY;EAAAC;IAAAV;EAAA;EAAAW;EAAAC;EAAAC;EAAAC;IAAA;MCVhClB;;;;MAAoBA","names":["firstValueFrom","i0","ModalOfferComponent","constructor","offerService","offer","id","undefined","loadOffer","ngOnInit","setModal","modalOpen","getOffer","getObservableOffer","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/root/bouzin/src/app/buisness/offer/modal-offer/modal-offer.component.ts","/root/bouzin/src/app/buisness/offer/modal-offer/modal-offer.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { firstValueFrom } from 'rxjs';\nimport { Offer } from '../models/offer';\nimport { OfferService } from '../services/offer.service';\n\n@Component({\n  selector: 'app-modal-offer',\n  templateUrl: './modal-offer.component.html',\n  styleUrls: ['./modal-offer.component.css']\n})\nexport class ModalOfferComponent implements OnInit {\n\n  @Input('data') offer: Offer = {};\n\n  constructor(\n    private offerService: OfferService,\n  ) {\n    if(this.offer.id != undefined){\n      this.loadOffer(this.offer.id)\n    }\n\n  }\n\n  ngOnInit(): void {\n  }\n  setModal(){\n    this.offerService.modalOpen(this.offer);\n  }\n\n  async loadOffer(id: string): Promise<void>{\n    let getOffer = await firstValueFrom(this.offerService.getObservableOffer(id));\n\n    if(getOffer != undefined){\n      this.offer = getOffer;\n\n    }\n  }\n\n}\n","<div class=\"modal\" *ngClass=\"{'is-active': offer.isOpen == true}\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-card\">\n    <header class=\"modal-card-head\">\n      <p class=\"modal-card-title\">Modal title</p>\n      <button class=\"delete\" aria-label=\"close\"></button>\n    </header>\n    <section class=\"modal-card-body\">\n      <app-offer-detail></app-offer-detail>\n    </section>\n    <footer class=\"modal-card-foot\">\n      <button class=\"button is-success\">Save changes</button>\n      <button class=\"button\">Cancel</button>\n    </footer>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}