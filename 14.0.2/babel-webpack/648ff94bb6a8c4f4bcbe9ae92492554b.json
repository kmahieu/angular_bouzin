{"ast":null,"code":"import _asyncToGenerator from \"/root/bouzin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/buisness/offer/services/offer.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../layouts/nav/nav.component\";\nimport * as i4 from \"../../buisness/offer/offer-preview/offer-preview.component\";\nexport class MyOfferComponent {\n  constructor(offerService, route) {\n    this.offerService = offerService;\n    this.route = route;\n    this.offer = {};\n    route.params.subscribe(params => {\n      this.loadOffer(params['id']);\n    });\n  }\n\n  ngOnInit() {\n    console.log(this.offer);\n  }\n\n  loadOffer(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var getOffer = yield firstValueFrom(_this.offerService.getObservableOffer(id));\n\n      if (getOffer !== undefined) {\n        _this.offer = getOffer;\n      }\n\n      console.log(_this.offer);\n    })();\n  }\n\n}\n\nMyOfferComponent.ɵfac = function MyOfferComponent_Factory(t) {\n  return new (t || MyOfferComponent)(i0.ɵɵdirectiveInject(i1.OfferService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nMyOfferComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MyOfferComponent,\n  selectors: [[\"app-my-offer\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[3, \"data\"]],\n  template: function MyOfferComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav\")(1, \"app-offer-preview\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"data\", ctx.offer);\n    }\n  },\n  dependencies: [i3.NavComponent, i4.OfferPreviewComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJteS1vZmZlci5jb21wb25lbnQuc2NzcyJ9 */\"]\n});","map":{"version":3,"mappings":";AAEA,SAASA,cAAT,QAA8C,MAA9C;;;;;;AAUA,OAAM,MAAOC,gBAAP,CAAuB;EAI3BC,YACUC,YADV,EAEUC,KAFV,EAE+B;IADrB;IACA;IAJV,aAAe,EAAf;IAOEA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBD,MAAM,IAAG;MAC9B,KAAKE,SAAL,CAAeF,MAAM,CAAC,IAAD,CAArB;IACD,CAFD;EAGD;;EAEDG,QAAQ;IACNC,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;EACD;;EAEKJ,SAAS,CAACK,EAAD,EAAW;IAAA;;IAAA;MACxB,IAAIC,QAAQ,SAASb,cAAc,CAAC,KAAI,CAACG,YAAL,CAAkBW,kBAAlB,CAAqCF,EAArC,CAAD,CAAnC;;MACA,IAAIC,QAAQ,KAAKE,SAAjB,EACA;QACE,KAAI,CAACJ,KAAL,GAAaE,QAAb;MACD;;MACDJ,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,KAAjB;IANwB;EAOzB;;AAzB0B;;;mBAAhBV,kBAAgBe;AAAA;;;QAAhBf;EAAgBgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ7BL,2BAAmB,CAAnB,EAAmB,mBAAnB,EAAmB,CAAnB;;;;MAEIA;MAAAA","names":["firstValueFrom","MyOfferComponent","constructor","offerService","route","params","subscribe","loadOffer","ngOnInit","console","log","offer","id","getOffer","getObservableOffer","undefined","i0","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/root/bouzin/src/app/pages/my-offer/my-offer.component.ts","/root/bouzin/src/app/pages/my-offer/my-offer.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { firstValueFrom, lastValueFrom } from 'rxjs';\nimport { Offer } from 'src/app/buisness/offer/models/offer';\nimport { OffersListComponent } from 'src/app/buisness/offer/offers-list/offers-list.component';\nimport { OfferService } from 'src/app/buisness/offer/services/offer.service';\n\n@Component({\n  selector: 'app-my-offer',\n  templateUrl: './my-offer.component.html',\n  styleUrls: ['./my-offer.component.scss']\n})\nexport class MyOfferComponent implements OnInit {\n\n  offer: Offer = {};\n\n  constructor(\n    private offerService: OfferService,\n    private route: ActivatedRoute\n  )\n  { \n    route.params.subscribe(params => {\n      this.loadOffer(params['id']);\n    })\n  }\n\n  ngOnInit(): void {\n    console.log(this.offer);\n  }\n\n  async loadOffer(id: string): Promise<void> {\n    var getOffer = await firstValueFrom(this.offerService.getObservableOffer(id))\n    if (getOffer !== undefined) \n    {\n      this.offer = getOffer;\n    }\n    console.log(this.offer)\n  }\n}\n","<app-nav></app-nav>\n<app-offer-preview \n    [data]=\"offer\">\n</app-offer-preview>\n"]},"metadata":{},"sourceType":"module"}